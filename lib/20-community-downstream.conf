function downstream_import_filter(int ASN) {
    if !is_valid() then return false;
    if bgp_path.last !~ DOWNSTREAM_ASN then return false;
    pub_add_communities(ASN, 20);
    pub_preprocess_communities();
    return true;
}

function downstream_export_filter(int ASN) {
    if !is_valid() then return false;
    bgp_path.delete([4200000000..4225479999]);
    if pub_process_communities(ASN, 20) then return true;
    else return false;
}